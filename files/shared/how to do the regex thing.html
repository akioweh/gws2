<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>how to do the regex thing</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="how-to-do-the-regex-thing-but-actually">how to do the regex thing, but actually</h1>
<p>(As usual, ensure)</p>
<ul>
<li><mark>start state has no <strong>in</strong>-arrows</mark><br>
add new state state with <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">ε</span></span></span></span></span>-transition to old</li>
<li><mark>singular accept state and has no <strong>out</strong>-arrows</mark><br>
add new accept state with <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ε</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathnormal">ε</span></span></span></span></span>-transitions from all olds</li>
</ul>
<p>Then, eliminate non-accept/start states one by one, until only start and accept are left.</p>
<p><strong>Eliminating a state</strong>:<br>
For all pairs of <strong>in</strong>-arrows and <strong>out</strong>-arrows, add a new equivalent “bypass” arrow – the concatenation of the in and the out.<br>
If the state has a self-loop, then sandwich that (with a Kleene star) in the concatenation.</p>
<blockquote>
<p>Observe that the number of new arrows to add is #<strong>in</strong>s <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord">×</span></span></span></span></span> #<strong>out</strong>s, so <mark>eliminate states with the least in<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord">×</span></span></span></span></span>out  first</mark>!!!</p>
</blockquote>
<p><mark><strong>That’s it.</strong></mark></p>
<hr>
<h3 id="example">Example</h3>
<p>Consider the following 6-state state diagram.</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-wUjd02tc0rrvzGv1" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="503.6999816894531" style="max-width: 291.82344818115234px;" viewBox="0 0 166.75625610351562 503.6999816894531"><style>#mermaid-svg-wUjd02tc0rrvzGv1{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-wUjd02tc0rrvzGv1 .error-icon{fill:#552222;}#mermaid-svg-wUjd02tc0rrvzGv1 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-wUjd02tc0rrvzGv1 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-wUjd02tc0rrvzGv1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-wUjd02tc0rrvzGv1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-wUjd02tc0rrvzGv1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-wUjd02tc0rrvzGv1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-wUjd02tc0rrvzGv1 .marker{fill:#666;stroke:#666;}#mermaid-svg-wUjd02tc0rrvzGv1 .marker.cross{stroke:#666;}#mermaid-svg-wUjd02tc0rrvzGv1 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-wUjd02tc0rrvzGv1 g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-wUjd02tc0rrvzGv1 g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-wUjd02tc0rrvzGv1 g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-wUjd02tc0rrvzGv1 g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-wUjd02tc0rrvzGv1 g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-wUjd02tc0rrvzGv1 .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-wUjd02tc0rrvzGv1 .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-wUjd02tc0rrvzGv1 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-wUjd02tc0rrvzGv1 .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-wUjd02tc0rrvzGv1 .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-wUjd02tc0rrvzGv1 .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-wUjd02tc0rrvzGv1 .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-wUjd02tc0rrvzGv1 .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-wUjd02tc0rrvzGv1 .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-wUjd02tc0rrvzGv1 .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-wUjd02tc0rrvzGv1 .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-wUjd02tc0rrvzGv1 .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-wUjd02tc0rrvzGv1 .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-wUjd02tc0rrvzGv1 .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-wUjd02tc0rrvzGv1 #statediagram-barbEnd{fill:#666;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-wUjd02tc0rrvzGv1 .cluster-label,#mermaid-svg-wUjd02tc0rrvzGv1 .nodeLabel{color:#000000;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-state .divider{stroke:#999;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-wUjd02tc0rrvzGv1 .note-edge{stroke-dasharray:5;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-note text{fill:#333;}#mermaid-svg-wUjd02tc0rrvzGv1 .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-wUjd02tc0rrvzGv1 #dependencyStart,#mermaid-svg-wUjd02tc0rrvzGv1 #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-wUjd02tc0rrvzGv1:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-wUjd02tc0rrvzGv1 stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M39.87500047683716,22L39.87500047683716,28.39270830154419C39.87500047683716,34.78541660308838,39.87500047683716,47.57083320617676,39.87500047683716,60.35624980926514C39.87500047683716,73.14166641235352,39.87500047683716,85.9270830154419,39.87500047683716,92.31979131698608L39.87500047683716,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M52.709277610943836,140.42500114440918L56.64314812832915,146.81770944595337C60.577018645714475,153.21041774749756,68.4447596804851,165.99583435058594,72.37863019787042,178.78125095367432C76.31250071525574,191.5666675567627,76.31250071525574,204.35208415985107,76.31250071525574,210.74479246139526L76.31250071525574,217.13750076293945" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M79.40109258548104,258.85000228881836L80.34778559916286,265.24271059036255C81.2944786128447,271.63541889190674,83.18786464020836,284.4208354949951,84.13455765389018,300.68229389190674C85.08125066757202,316.94375228881836,85.08125066757202,336.6812524795532,85.08125066757202,356.4187526702881C85.08125066757202,376.15625286102295,85.08125066757202,395.8937530517578,82.65345203996891,412.15521144866943C80.22565341236579,428.41666984558105,75.37005615715957,441.20208644866943,72.94225752955646,447.5947947502136L70.51445890195335,453.9875030517578" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M93.41875147819519,253.49639350823247L101.45729315280914,260.7813699398743C109.4958348274231,268.06634637151615,125.572918176651,282.6362992347998,133.61145985126495,296.31398396798585C141.6500015258789,309.9916687011719,141.6500015258789,322.77708530426025,141.6500015258789,329.16979360580444L141.6500015258789,335.56250190734863" id="edge3" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M53.46226150681736,453.9875030517578L50.66334297003152,447.5947947502136C47.86442443324567,441.20208644866943,42.266587359673984,428.41666984558105,39.467668822888136,412.15521144866943C36.668750286102295,395.8937530517578,36.668750286102295,376.15625286102295,36.668750286102295,356.4187526702881C36.668750286102295,336.6812524795532,36.668750286102295,316.94375228881836,40.94877443680942,300.68229389190674C45.22879858751654,284.4208354949951,53.788846888930806,271.63541889190674,58.06887103963793,265.24271059036255L62.34889519034506,258.85000228881836" id="edge4" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M45.487499952316284,454.74146907056905L39.94062499205271,448.22309976588963C34.393750031789146,441.7047304612103,23.300000111262005,428.66799185185147,17.753125150998432,412.28087245180467C12.206250190734863,395.8937530517578,12.206250190734863,376.15625286102295,12.206250190734863,356.4187526702881C12.206250190734863,336.6812524795532,12.206250190734863,316.94375228881836,12.206250190734863,297.2062520980835C12.206250190734863,277.46875190734863,12.206250190734863,257.73125171661377,12.206250190734863,237.9937515258789C12.206250190734863,218.25625133514404,12.206250190734863,198.51875114440918,15.193427694438348,182.25729274749756C18.180605198141834,165.99583435058594,24.154960205548804,153.21041774749756,27.142137709252285,146.81770944595337L30.129315212955774,140.42500114440918" id="edge5" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M124.54375076293945,368.95857154907526L113.93229238192241,376.7373518313115C103.32083400090535,384.5161321135477,82.09791723887126,400.0736926780202,71.67201881244557,414.2451812618006C61.24612038601989,428.41666984558105,61.61724029520261,441.20208644866943,61.80280024979398,447.5947947502136L61.98836020438535,453.9875030517578" id="edge6" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M141.6500015258789,377.27500343322754L141.6500015258789,383.66771173477173C141.6500015258789,390.0604200363159,141.6500015258789,402.8458366394043,141.6500015258789,417.94062836964923C141.6500015258789,433.0354200998942,141.6500015258789,450.4395869572957,141.6500015258789,459.1416703859965L141.6500015258789,467.84375381469727" id="edge7" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(39.87500047683716, 60.35624980926514)"><g class="label" transform="translate(-3.737499952316284, -13.356249809265137)"><rect rx="0" ry="0" width="7.474999904632568" height="26.712499618530273"></rect><foreignObject width="7.474999904632568" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ε</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(76.31250071525574, 178.78125095367432)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(85.08125066757202, 356.4187526702881)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(141.6500015258789, 297.2062520980835)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(36.668750286102295, 356.4187526702881)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(12.206250190734863, 297.2062520980835)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(60.87500047683716, 415.6312532424927)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(141.6500015258789, 415.6312532424927)"><g class="label" transform="translate(-3.737499952316284, -13.356249809265137)"><rect rx="0" ry="0" width="7.474999904632568" height="26.712499618530273"></rect><foreignObject width="7.474999904632568" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ε</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(39.87500047683716, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node statediagram-state" id="state-Q0-5" transform="translate(39.87500047683716, 119.56875038146973)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q0</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q1-4" transform="translate(76.31250071525574, 237.9937515258789)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q1</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q2-6" transform="translate(62.59375071525574, 474.84375381469727)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q2</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q3-7" transform="translate(141.6500015258789, 356.4187526702881)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q3</span></div></foreignObject></g></g><g class="node default" id="state-root_end-7" transform="translate(141.6500015258789, 474.84375381469727)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<hr>
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> has 2 ins and 2 outs; to eliminate it would require 4 additional bypass arrows.<br>
Meanwhile, <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> has only 2<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord">×</span></span></span></span></span><wbr>1 = 2, so let’s eliminate <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> first.</p>
<p>The two in-out pairs are<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>start</mtext><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi>ε</mi></mpadded></mover><mrow><msub><mi mathvariant="normal">Q</mi><mn>0</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">b</mi></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\text{start} \xrightarrow{\varepsilon} \rm{Q_0} \xrightarrow{b} \rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.934392em; vertical-align: -0.011em;"></span><span class="mord text"><span class="mord">start</span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight">ε</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.30255em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">a</mi></mpadded></mover><mrow><msub><mi mathvariant="normal">Q</mi><mn>0</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">b</mi></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\rm{Q_2} \xrightarrow{a} \rm{Q_0} \xrightarrow{b} \rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.30255em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>We therefore add the bypass arrows<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>start</mtext><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi>b</mi></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{start} \xrightarrow{b} \rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11911em; vertical-align: -0.011em;"></span><span class="mord text"><span class="mord">start</span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">a</mi><mi mathvariant="normal">b</mi></mrow></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_2} \xrightarrow{ab} \rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.30255em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">ab</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>And we can now safely <em>kill</em> <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> (and its attached arrows).</p>
<p>We now have</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-5t9dV5l5F73vwRrR" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="385.2749938964844" style="max-width: 307.43128204345703px;" viewBox="0 0 175.67501831054688 385.2749938964844"><style>#mermaid-svg-5t9dV5l5F73vwRrR{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-5t9dV5l5F73vwRrR .error-icon{fill:#552222;}#mermaid-svg-5t9dV5l5F73vwRrR .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-5t9dV5l5F73vwRrR .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-5t9dV5l5F73vwRrR .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-5t9dV5l5F73vwRrR .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-5t9dV5l5F73vwRrR .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-5t9dV5l5F73vwRrR .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-5t9dV5l5F73vwRrR .marker{fill:#666;stroke:#666;}#mermaid-svg-5t9dV5l5F73vwRrR .marker.cross{stroke:#666;}#mermaid-svg-5t9dV5l5F73vwRrR svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-5t9dV5l5F73vwRrR g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-5t9dV5l5F73vwRrR g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-5t9dV5l5F73vwRrR g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-5t9dV5l5F73vwRrR g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-5t9dV5l5F73vwRrR g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-5t9dV5l5F73vwRrR .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-5t9dV5l5F73vwRrR .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-5t9dV5l5F73vwRrR .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-5t9dV5l5F73vwRrR .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-5t9dV5l5F73vwRrR .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-5t9dV5l5F73vwRrR .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-5t9dV5l5F73vwRrR .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-5t9dV5l5F73vwRrR .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-5t9dV5l5F73vwRrR .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-5t9dV5l5F73vwRrR .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-5t9dV5l5F73vwRrR .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-5t9dV5l5F73vwRrR .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-5t9dV5l5F73vwRrR .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-5t9dV5l5F73vwRrR .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-5t9dV5l5F73vwRrR #statediagram-barbEnd{fill:#666;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-5t9dV5l5F73vwRrR .cluster-label,#mermaid-svg-5t9dV5l5F73vwRrR .nodeLabel{color:#000000;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-state .divider{stroke:#999;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-5t9dV5l5F73vwRrR .note-edge{stroke-dasharray:5;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-note text{fill:#333;}#mermaid-svg-5t9dV5l5F73vwRrR .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-5t9dV5l5F73vwRrR #dependencyStart,#mermaid-svg-5t9dV5l5F73vwRrR #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-5t9dV5l5F73vwRrR:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-5t9dV5l5F73vwRrR stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M61.02500081062317,22L61.02500081062317,28.39270830154419C61.02500081062317,34.78541660308838,61.02500081062317,47.57083320617676,61.02500081062317,60.35624980926514C61.02500081062317,73.14166641235352,61.02500081062317,85.9270830154419,61.02500081062317,92.31979131698608L61.02500081062317,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M53.42757631878803,335.56250190734863L52.120897027690795,329.16979360580444C50.81421773659355,322.77708530426025,48.20085915439907,309.9916687011719,46.89417986330184,293.73021030426025C45.58750057220459,277.46875190734863,45.58750057220459,257.73125171661377,45.58750057220459,237.9937515258789C45.58750057220459,218.25625133514404,45.58750057220459,198.51875114440918,47.25416614071724,182.25729274749756C48.92083170922988,165.99583435058594,52.254162846255184,153.21041774749756,53.92082841476783,146.81770944595337L55.58749398328048,140.42500114440918" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M72.63969137841646,140.42500114440918L76.19974297429276,146.81770944595337C79.75979457016908,153.21041774749756,86.8798977619217,165.99583435058594,90.43994935779801,182.25729274749756C94.00000095367432,198.51875114440918,94.00000095367432,218.25625133514404,94.00000095367432,237.9937515258789C94.00000095367432,257.73125171661377,94.00000095367432,277.46875190734863,90.0799630803826,293.73021030426025C86.1599252070909,309.9916687011719,78.31984946050744,322.77708530426025,74.39981158721572,329.16979360580444L70.479773713924,335.56250190734863" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M78.13125157356262,130.8805825502323L90.20416827996571,138.8640272841393C102.27708498636882,146.84747201804632,126.422918399175,162.8143614858603,138.4958351055781,177.19051452131148C150.5687518119812,191.5666675567627,150.5687518119812,204.35208415985107,150.5687518119812,210.74479246139526L150.5687518119812,217.13750076293945" id="edge3" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M41.760051559806506,335.56250190734863L36.87712631573333,329.16979360580444C31.994201071660147,322.77708530426025,22.228350583513787,309.9916687011719,17.34542533944061,293.73021030426025C12.462500095367432,277.46875190734863,12.462500095367432,257.73125171661377,12.462500095367432,237.9937515258789C12.462500095367432,218.25625133514404,12.462500095367432,198.51875114440918,17.70541161685602,182.25729274749756C22.948323138344605,165.99583435058594,33.43414618132178,153.21041774749756,38.677057702810366,146.81770944595337L43.91996922429895,140.42500114440918" id="edge4" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M133.46250104904175,250.53357040466608L122.8510426680247,258.31235068690233C112.23958428700765,266.09113096913853,91.01666752497356,281.64869153361104,79.09852985285926,295.82018011739143C67.18039218074497,309.9916687011719,64.5670335985505,322.77708530426025,63.26035430745325,329.16979360580444L61.953675016356016,335.56250190734863" id="edge5" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M150.5687518119812,258.85000228881836L150.5687518119812,265.24271059036255C150.5687518119812,271.63541889190674,150.5687518119812,284.4208354949951,150.5687518119812,299.51562722524005C150.5687518119812,314.61041895548504,150.5687518119812,332.01458581288654,150.5687518119812,340.71666924158734L150.5687518119812,349.4187526702881" id="edge6" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(61.02500081062317, 60.35624980926514)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(45.58750057220459, 237.9937515258789)"><g class="label" transform="translate(-8.662500381469727, -13.356249809265137)"><rect rx="0" ry="0" width="17.325000762939453" height="26.712499618530273"></rect><foreignObject width="17.325000762939453" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ab</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(94.00000095367432, 237.9937515258789)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(150.5687518119812, 178.78125095367432)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(12.462500095367432, 237.9937515258789)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(69.79375076293945, 297.2062520980835)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(150.5687518119812, 297.2062520980835)"><g class="label" transform="translate(-3.737499952316284, -13.356249809265137)"><rect rx="0" ry="0" width="7.474999904632568" height="26.712499618530273"></rect><foreignObject width="7.474999904632568" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ε</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(61.02500081062317, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node statediagram-state" id="state-Q1-4" transform="translate(61.02500081062317, 119.56875038146973)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q1</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q2-5" transform="translate(57.69062566757202, 356.4187526702881)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q2</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q3-6" transform="translate(150.5687518119812, 237.9937515258789)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q3</span></div></foreignObject></g></g><g class="node default" id="state-root_end-6" transform="translate(150.5687518119812, 356.4187526702881)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<p>Oh no! we have two parallel arrows from <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> to <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span>, <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">b</mi></mpadded></mover></mrow><annotation encoding="application/x-tex">\xrightarrow{\rm b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11911em; vertical-align: -0.011em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">b</span></span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span></span></span></span></span> and <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">a</mi><mi mathvariant="normal">b</mi></mrow></mpadded></mover></mrow><annotation encoding="application/x-tex">\xrightarrow{\rm ab}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11911em; vertical-align: -0.011em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">ab</span></span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span></span></span></span></span>?!<br>
Well, they can be union’d into <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">b</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">∣</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">b</mi></mrow></mpadded></mover></mrow><annotation encoding="application/x-tex">\xrightarrow{\rm b \ |\ ab}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.158em; vertical-align: -0.011em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.147em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">b</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">∣</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">ab</span></span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span></span></span></span></span>:</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-UDdjV8JQE7yIKjqv" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="385.2749938964844" style="max-width: 310.078125px;" viewBox="0 0 177.1875 385.2749938964844"><style>#mermaid-svg-UDdjV8JQE7yIKjqv{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-UDdjV8JQE7yIKjqv .error-icon{fill:#552222;}#mermaid-svg-UDdjV8JQE7yIKjqv .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-UDdjV8JQE7yIKjqv .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-UDdjV8JQE7yIKjqv .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-UDdjV8JQE7yIKjqv .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-UDdjV8JQE7yIKjqv .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-UDdjV8JQE7yIKjqv .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-UDdjV8JQE7yIKjqv .marker{fill:#666;stroke:#666;}#mermaid-svg-UDdjV8JQE7yIKjqv .marker.cross{stroke:#666;}#mermaid-svg-UDdjV8JQE7yIKjqv svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-UDdjV8JQE7yIKjqv g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-UDdjV8JQE7yIKjqv g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-UDdjV8JQE7yIKjqv g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-UDdjV8JQE7yIKjqv g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-UDdjV8JQE7yIKjqv g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-UDdjV8JQE7yIKjqv .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-UDdjV8JQE7yIKjqv .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-UDdjV8JQE7yIKjqv .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-UDdjV8JQE7yIKjqv .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-UDdjV8JQE7yIKjqv .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-UDdjV8JQE7yIKjqv .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-UDdjV8JQE7yIKjqv .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-UDdjV8JQE7yIKjqv .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-UDdjV8JQE7yIKjqv .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-UDdjV8JQE7yIKjqv .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-UDdjV8JQE7yIKjqv .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-UDdjV8JQE7yIKjqv .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-UDdjV8JQE7yIKjqv .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-UDdjV8JQE7yIKjqv .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-UDdjV8JQE7yIKjqv #statediagram-barbEnd{fill:#666;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-UDdjV8JQE7yIKjqv .cluster-label,#mermaid-svg-UDdjV8JQE7yIKjqv .nodeLabel{color:#000000;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-state .divider{stroke:#999;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-UDdjV8JQE7yIKjqv .note-edge{stroke-dasharray:5;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-note text{fill:#333;}#mermaid-svg-UDdjV8JQE7yIKjqv .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-UDdjV8JQE7yIKjqv #dependencyStart,#mermaid-svg-UDdjV8JQE7yIKjqv #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-UDdjV8JQE7yIKjqv:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-UDdjV8JQE7yIKjqv stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M43.84687554836273,22L43.84687554836273,28.39270830154419C43.84687554836273,34.78541660308838,43.84687554836273,47.57083320617676,43.84687554836273,60.35624980926514C43.84687554836273,73.14166641235352,43.84687554836273,85.9270830154419,43.84687554836273,92.31979131698608L43.84687554836273,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M86.13750171661377,341.82753816474576L94.85625171661377,334.3906571536354C103.57500171661377,326.953776142525,121.01250171661377,312.08001412030427,129.73125171661377,294.7743830138265C138.45000171661377,277.46875190734863,138.45000171661377,257.73125171661377,138.45000171661377,237.9937515258789C138.45000171661377,218.25625133514404,138.45000171661377,198.51875114440918,125.5338558157285,180.56573018481404C112.61770991484325,162.61270922521896,86.78541811307271,146.4441674967636,73.86927221218745,138.35989663253594L60.953126311302185,130.27562576830826" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M32.79244619374139,140.42500114440918L29.404121844012398,146.81770944595337C26.015797494283404,153.21041774749756,19.239148794825418,165.99583435058594,15.850824445096427,182.25729274749756C12.462500095367432,198.51875114440918,12.462500095367432,218.25625133514404,12.462500095367432,237.9937515258789C12.462500095367432,257.73125171661377,12.462500095367432,277.46875190734863,19.039583444595337,294.22196640524595C25.616666793823242,310.9751809031432,38.77083349227905,324.744109708203,45.34791684150696,331.6285741107328L51.92500019073486,338.5130385132627" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M52.71749650990587,140.42500114440918L55.43645558386728,146.81770944595337C58.155414657828686,153.21041774749756,63.593332805751494,165.99583435058594,66.3122918797129,178.78125095367432C69.03125095367432,191.5666675567627,69.03125095367432,204.35208415985107,69.03125095367432,210.74479246139526L69.03125095367432,217.13750076293945" id="edge3" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M69.03125095367432,258.85000228881836L69.03125095367432,265.24271059036255C69.03125095367432,271.63541889190674,69.03125095367432,284.4208354949951,69.03125095367432,297.2062520980835C69.03125095367432,309.9916687011719,69.03125095367432,322.77708530426025,69.03125095367432,329.16979360580444L69.03125095367432,335.56250190734863" id="edge4" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M86.13750171661377,248.86692294821214L98.81250170866649,256.92347780652403C111.48750170071919,264.98003266483596,136.83750168482462,281.0931423814597,149.51250167687735,297.8517806684724C162.18750166893005,314.61041895548504,162.18750166893005,332.01458581288654,162.18750166893005,340.71666924158734L162.18750166893005,349.4187526702881" id="edge5" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(43.84687554836273, 60.35624980926514)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(138.45000171661377, 237.9937515258789)"><g class="label" transform="translate(-17.3125, -13.356249809265137)"><rect rx="0" ry="0" width="34.625" height="26.712499618530273"></rect><foreignObject width="34.625" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b|ab</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(12.462500095367432, 237.9937515258789)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(69.03125095367432, 178.78125095367432)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(69.03125095367432, 297.2062520980835)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(162.18750166893005, 297.2062520980835)"><g class="label" transform="translate(-3.737499952316284, -13.356249809265137)"><rect rx="0" ry="0" width="7.474999904632568" height="26.712499618530273"></rect><foreignObject width="7.474999904632568" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ε</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(43.84687554836273, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node statediagram-state" id="state-Q1-3" transform="translate(43.84687554836273, 119.56875038146973)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q1</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q2-4" transform="translate(69.03125095367432, 356.4187526702881)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q2</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q3-5" transform="translate(69.03125095367432, 237.9937515258789)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q3</span></div></foreignObject></g></g><g class="node default" id="state-root_end-5" transform="translate(162.18750166893005, 356.4187526702881)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<hr>
<p>Now we repeat the process. <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> (or <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span>) now has the least in<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord">×</span></span></span></span></span>out, so let’s eliminate it.</p>
<p>The 2 in-out pairs:<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">a</mi></mpadded></mover><mrow><msub><mi mathvariant="normal">Q</mi><mn>3</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">a</mi></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\rm{Q_1} \xrightarrow{a} \rm{Q_3} \xrightarrow{a} \rm{Q_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11783em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">a</mi></mpadded></mover><mrow><msub><mi mathvariant="normal">Q</mi><mn>3</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi>ε</mi></mpadded></mover><mtext>end</mtext></mrow></mrow><annotation encoding="application/x-tex">\rm{Q_1} \xrightarrow{a} \rm{Q_3} \xrightarrow{\varepsilon} \text{end}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11783em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight">ε</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord text"><span class="mord">end</span></span></span></span></span></span></span></span></p>
<p>Turns into:<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">a</mi><mi mathvariant="normal">a</mi></mrow></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_1} \xrightarrow{aa} \rm{Q_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11783em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">aa</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span><br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">a</mi></mpadded></mover><mtext>end</mtext></mrow><annotation encoding="application/x-tex">\rm{Q_1} \xrightarrow{a} \text{end}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11783em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord text"><span class="mord">end</span></span></span></span></span></span></span></p>
<p>So,</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-zuDzhD2GQw4dzKWb" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="266.8500061035156" style="max-width: 258.24532318115234px;" viewBox="0 0 147.56875610351562 266.8500061035156"><style>#mermaid-svg-zuDzhD2GQw4dzKWb{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-zuDzhD2GQw4dzKWb .error-icon{fill:#552222;}#mermaid-svg-zuDzhD2GQw4dzKWb .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-zuDzhD2GQw4dzKWb .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-zuDzhD2GQw4dzKWb .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-zuDzhD2GQw4dzKWb .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-zuDzhD2GQw4dzKWb .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-zuDzhD2GQw4dzKWb .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-zuDzhD2GQw4dzKWb .marker{fill:#666;stroke:#666;}#mermaid-svg-zuDzhD2GQw4dzKWb .marker.cross{stroke:#666;}#mermaid-svg-zuDzhD2GQw4dzKWb svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-zuDzhD2GQw4dzKWb g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-zuDzhD2GQw4dzKWb g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-zuDzhD2GQw4dzKWb g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-zuDzhD2GQw4dzKWb g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-zuDzhD2GQw4dzKWb g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-zuDzhD2GQw4dzKWb .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-zuDzhD2GQw4dzKWb .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-zuDzhD2GQw4dzKWb .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-zuDzhD2GQw4dzKWb .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-zuDzhD2GQw4dzKWb .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-zuDzhD2GQw4dzKWb .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-zuDzhD2GQw4dzKWb .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-zuDzhD2GQw4dzKWb .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-zuDzhD2GQw4dzKWb .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-zuDzhD2GQw4dzKWb .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-zuDzhD2GQw4dzKWb .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-zuDzhD2GQw4dzKWb .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-zuDzhD2GQw4dzKWb .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-zuDzhD2GQw4dzKWb .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-zuDzhD2GQw4dzKWb #statediagram-barbEnd{fill:#666;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-zuDzhD2GQw4dzKWb .cluster-label,#mermaid-svg-zuDzhD2GQw4dzKWb .nodeLabel{color:#000000;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-state .divider{stroke:#999;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-zuDzhD2GQw4dzKWb .note-edge{stroke-dasharray:5;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-note text{fill:#333;}#mermaid-svg-zuDzhD2GQw4dzKWb .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-zuDzhD2GQw4dzKWb #dependencyStart,#mermaid-svg-zuDzhD2GQw4dzKWb #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-zuDzhD2GQw4dzKWb:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-zuDzhD2GQw4dzKWb stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M51.89687490463257,22L51.89687490463257,28.39270830154419C51.89687490463257,34.78541660308838,51.89687490463257,47.57083320617676,51.89687490463257,60.35624980926514C51.89687490463257,73.14166641235352,51.89687490463257,85.9270830154419,51.89687490463257,92.31979131698608L51.89687490463257,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M61.43463554608563,217.13750076293945L66.37052965352717,210.74479246139526C71.30642376096871,204.35208415985107,81.1782119758518,191.5666675567627,81.8870508731751,178.78125095367432C82.5958897704984,165.99583435058594,74.14177935026196,153.21041774749756,69.91472414014373,146.81770944595337L65.68766893002551,140.42500114440918" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M38.00701715915761,140.42500114440918L33.74959764852591,146.81770944595337C29.492178137894218,153.21041774749756,20.977339116630827,165.99583435058594,20.268500219307512,178.78125095367432C19.559661321984198,191.5666675567627,26.656822548600967,204.35208415985107,30.20540316190935,210.74479246139526L33.75398377521773,217.13750076293945" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M49.58428357467474,140.42500114440918L48.875444677351425,146.81770944595337C48.166605780028114,153.21041774749756,46.74892798538149,165.99583435058594,46.040089088058174,178.78125095367432C45.33125019073486,191.5666675567627,45.33125019073486,204.35208415985107,45.33125019073486,210.74479246139526L45.33125019073486,217.13750076293945" id="edge3" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M69.00312566757202,132.12459933256616L79.59739645322163,139.9007079360842C90.19166723887126,147.6768165396022,111.38020881017049,163.22903374663827,121.97447959582011,179.70722577885704C132.56875038146973,196.18541781107584,132.56875038146973,213.58958466847739,132.56875038146973,222.29166809717813L132.56875038146973,230.9937515258789" id="edge4" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(51.89687490463257, 60.35624980926514)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(91.05000019073486, 178.78125095367432)"><g class="label" transform="translate(-17.3125, -13.356249809265137)"><rect rx="0" ry="0" width="34.625" height="26.712499618530273"></rect><foreignObject width="34.625" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b|ab</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(12.462500095367432, 178.78125095367432)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(45.33125019073486, 178.78125095367432)"><g class="label" transform="translate(-8.40625, -13.356249809265137)"><rect rx="0" ry="0" width="16.8125" height="26.712499618530273"></rect><foreignObject width="16.8125" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">aa</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(132.56875038146973, 178.78125095367432)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(51.89687490463257, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node statediagram-state" id="state-Q1-4" transform="translate(51.89687490463257, 119.56875038146973)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q1</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q2-3" transform="translate(45.33125019073486, 237.9937515258789)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q2</span></div></foreignObject></g></g><g class="node default" id="state-root_end-4" transform="translate(132.56875038146973, 237.9937515258789)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<p>And union’ing <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">b</mi></mpadded></mover></mrow><annotation encoding="application/x-tex">\xrightarrow{\rm b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11911em; vertical-align: -0.011em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">b</span></span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span></span></span></span></span> and <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">a</mi><mi mathvariant="normal">a</mi></mrow></mpadded></mover></mrow><annotation encoding="application/x-tex">\xrightarrow{\rm aa}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.934392em; vertical-align: -0.011em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">aa</span></span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span></span></span></span></span>,</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-ykcwBetWE6Rp00lI" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="266.8500061035156" style="max-width: 266.4375px;" viewBox="0 0 152.25 266.8500061035156"><style>#mermaid-svg-ykcwBetWE6Rp00lI{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-ykcwBetWE6Rp00lI .error-icon{fill:#552222;}#mermaid-svg-ykcwBetWE6Rp00lI .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-ykcwBetWE6Rp00lI .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-ykcwBetWE6Rp00lI .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-ykcwBetWE6Rp00lI .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-ykcwBetWE6Rp00lI .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-ykcwBetWE6Rp00lI .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-ykcwBetWE6Rp00lI .marker{fill:#666;stroke:#666;}#mermaid-svg-ykcwBetWE6Rp00lI .marker.cross{stroke:#666;}#mermaid-svg-ykcwBetWE6Rp00lI svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-ykcwBetWE6Rp00lI g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-ykcwBetWE6Rp00lI g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-ykcwBetWE6Rp00lI g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-ykcwBetWE6Rp00lI g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-ykcwBetWE6Rp00lI g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-ykcwBetWE6Rp00lI .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-ykcwBetWE6Rp00lI .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-ykcwBetWE6Rp00lI .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-ykcwBetWE6Rp00lI .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-ykcwBetWE6Rp00lI .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-ykcwBetWE6Rp00lI .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-ykcwBetWE6Rp00lI .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-ykcwBetWE6Rp00lI .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-ykcwBetWE6Rp00lI .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-ykcwBetWE6Rp00lI .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-ykcwBetWE6Rp00lI .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-ykcwBetWE6Rp00lI .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-ykcwBetWE6Rp00lI .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-ykcwBetWE6Rp00lI .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-ykcwBetWE6Rp00lI #statediagram-barbEnd{fill:#666;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-ykcwBetWE6Rp00lI .cluster-label,#mermaid-svg-ykcwBetWE6Rp00lI .nodeLabel{color:#000000;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-state .divider{stroke:#999;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-ykcwBetWE6Rp00lI .note-edge{stroke-dasharray:5;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-note text{fill:#333;}#mermaid-svg-ykcwBetWE6Rp00lI .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-ykcwBetWE6Rp00lI #dependencyStart,#mermaid-svg-ykcwBetWE6Rp00lI #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-ykcwBetWE6Rp00lI:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-ykcwBetWE6Rp00lI stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M79.4375,22L79.4375,28.39270830154419C79.4375,34.78541660308838,79.4375,47.57083320617676,79.4375,60.35624980926514C79.4375,73.14166641235352,79.4375,85.9270830154419,79.4375,92.31979131698608L79.4375,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M61.826175843578376,217.13750076293945L64.76139653631532,210.74479246139526C67.69661722905225,204.35208415985107,73.56705861452612,191.5666675567627,76.50227930726307,178.78125095367432C79.4375,165.99583435058594,79.4375,153.21041774749756,79.4375,146.81770944595337L79.4375,140.42500114440918" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M62.33124923706055,138.19686777160908L56.11979103088379,144.9609316352866C49.90833282470703,151.72499549896415,37.485416412353516,165.25312322631922,34.2091788989137,178.40989539154097C30.932941385473878,191.5666675567627,36.80338277094775,204.35208415985107,39.73860346368469,210.74479246139526L42.673824156421624,217.13750076293945" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M96.54375076293945,137.08924983633506L103.32812571525574,144.03791668922494C110.11250066757202,150.9865835421148,123.68125057220459,164.88391724789457,130.46562552452087,180.5346675294852C137.25000047683716,196.18541781107584,137.25000047683716,213.58958466847739,137.25000047683716,222.29166809717813L137.25000047683716,230.9937515258789" id="edge3" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(79.4375, 60.35624980926514)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(79.4375, 178.78125095367432)"><g class="label" transform="translate(-17.3125, -13.356249809265137)"><rect rx="0" ry="0" width="34.625" height="26.712499618530273"></rect><foreignObject width="34.625" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b|ab</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(25.0625, 178.78125095367432)"><g class="label" transform="translate(-17.0625, -13.356249809265137)"><rect rx="0" ry="0" width="34.125" height="26.712499618530273"></rect><foreignObject width="34.125" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b|aa</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(137.25000047683716, 178.78125095367432)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(79.4375, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node statediagram-state" id="state-Q1-3" transform="translate(79.4375, 119.56875038146973)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q1</span></div></foreignObject></g></g><g class="node statediagram-state" id="state-Q2-2" transform="translate(52.25, 237.9937515258789)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q2</span></div></foreignObject></g></g><g class="node default" id="state-root_end-3" transform="translate(137.25000047683716, 237.9937515258789)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<hr>
<p>Now, eliminate <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span>.</p>
<p>It only has 1 in-out pair:<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">b</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">∣</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">a</mi></mrow></mpadded></mover><mrow><msub><mi mathvariant="normal">Q</mi><mn>2</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mi mathvariant="normal">b</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">∣</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">b</mi></mrow></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\rm{Q_1} \xrightarrow{b\ |\ aa} \rm{Q_2} \xrightarrow{b\ |\ ab} \rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.34144em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.147em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">b</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">∣</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">aa</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.147em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathrm mtight">b</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">∣</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">ab</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>So we add<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">b</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">∣</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">a</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">b</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">∣</mi><mtext>&nbsp;</mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">b</mi><mo stretchy="false">)</mo></mrow></mpadded></mover><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_1} \xrightarrow{(b\ |\ aa) (b\ |\ ab)} \rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.34144em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.147em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathrm mtight">b</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">∣</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">aa</span><span class="mclose mtight">)</span><span class="mopen mtight">(</span><span class="mord mathrm mtight">b</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">∣</span><span class="mspace mtight"><span class="mtight">&nbsp;</span></span><span class="mord mathrm mtight">ab</span><span class="mclose mtight">)</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></span><br>
(remember to add parentheses)</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-sk7bbawDt5jVpT06" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="239.1374969482422" style="max-width: 310.55936431884766px;" viewBox="0 0 177.46249389648438 239.1374969482422"><style>#mermaid-svg-sk7bbawDt5jVpT06{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-sk7bbawDt5jVpT06 .error-icon{fill:#552222;}#mermaid-svg-sk7bbawDt5jVpT06 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-sk7bbawDt5jVpT06 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-sk7bbawDt5jVpT06 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-sk7bbawDt5jVpT06 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-sk7bbawDt5jVpT06 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-sk7bbawDt5jVpT06 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-sk7bbawDt5jVpT06 .marker{fill:#666;stroke:#666;}#mermaid-svg-sk7bbawDt5jVpT06 .marker.cross{stroke:#666;}#mermaid-svg-sk7bbawDt5jVpT06 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-sk7bbawDt5jVpT06 g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-sk7bbawDt5jVpT06 g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-sk7bbawDt5jVpT06 g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-sk7bbawDt5jVpT06 g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-sk7bbawDt5jVpT06 g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-sk7bbawDt5jVpT06 .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-sk7bbawDt5jVpT06 .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-sk7bbawDt5jVpT06 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-sk7bbawDt5jVpT06 .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-sk7bbawDt5jVpT06 .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-sk7bbawDt5jVpT06 .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-sk7bbawDt5jVpT06 .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-sk7bbawDt5jVpT06 .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-sk7bbawDt5jVpT06 .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-sk7bbawDt5jVpT06 .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-sk7bbawDt5jVpT06 .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-sk7bbawDt5jVpT06 .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-sk7bbawDt5jVpT06 .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-sk7bbawDt5jVpT06 .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-sk7bbawDt5jVpT06 #statediagram-barbEnd{fill:#666;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-sk7bbawDt5jVpT06 .cluster-label,#mermaid-svg-sk7bbawDt5jVpT06 .nodeLabel{color:#000000;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-state .divider{stroke:#999;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-sk7bbawDt5jVpT06 .note-edge{stroke-dasharray:5;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-note text{fill:#333;}#mermaid-svg-sk7bbawDt5jVpT06 .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-sk7bbawDt5jVpT06 #dependencyStart,#mermaid-svg-sk7bbawDt5jVpT06 #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-sk7bbawDt5jVpT06:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-sk7bbawDt5jVpT06 stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M25.106250762939453,22L25.106250762939453,28.39270830154419C25.106250762939453,34.78541660308838,25.106250762939453,47.57083320617676,25.106250762939453,60.35624980926514C25.106250762939453,73.14166641235352,25.106250762939453,85.9270830154419,25.106250762939453,92.31979131698608L25.106250762939453,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M42.212501525878906,114.55717094812017L51.2263904147678,111.91639239318852C60.240279303656685,109.27561383825689,78.26805708143446,103.99405672839357,89.53541819254558,101.35327817346193C100.80277930365669,98.71249961853027,105.30972374810113,98.71249961853027,109.81666819254558,102.18854141235352C114.32361263699003,105.66458320617676,118.83055708143446,112.61666679382324,118.83055708143445,119.56875038146973C118.83055708143446,126.52083396911621,114.32361263699003,133.4729175567627,109.81666819254559,136.94895935058594C105.30972374810113,140.42500114440918,100.80277930365669,140.42500114440918,89.53541819254558,137.78422258947754C78.26805708143446,135.14344403454587,60.240279303656685,129.86188692468258,51.2263904147678,127.22110836975092L42.212501525878906,124.58032981481928" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M25.106250762939453,140.42500114440918L25.106250762939453,146.81770944595337C25.106250762939453,153.21041774749756,25.106250762939453,165.99583435058594,25.106250762939453,178.78125095367432C25.106250762939453,191.5666675567627,25.106250762939453,204.35208415985107,25.106250762939453,210.74479246139526L25.106250762939453,217.13750076293945" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(25.106250762939453, 60.35624980926514)"><g class="label" transform="translate(-4.462500095367432, -13.356249809265137)"><rect rx="0" ry="0" width="8.925000190734863" height="26.712499618530273"></rect><foreignObject width="8.925000190734863" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(123.3375015258789, 119.56875038146973)"><g class="label" transform="translate(-46.125, -13.356249809265137)"><rect rx="0" ry="0" width="92.25" height="26.712499618530273"></rect><foreignObject width="92.25" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">(b|aa)(b|ab)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(25.106250762939453, 178.78125095367432)"><g class="label" transform="translate(-4.206250190734863, -13.356249809265137)"><rect rx="0" ry="0" width="8.412500381469727" height="26.712499618530273"></rect><foreignObject width="8.412500381469727" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">a</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(25.106250762939453, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node statediagram-state" id="state-Q1-2" transform="translate(25.106250762939453, 119.56875038146973)"><rect class="basic label-container" style="" x="-17.106249809265137" y="-20.856249809265137" width="34.21249961853027" height="41.71249961853027"></rect><g class="label" style="" transform="translate(-9.606249809265137, -13.356249809265137)"><foreignObject width="19.212499618530273" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">Q1</span></div></foreignObject></g></g><g class="node default" id="state-root_end-2" transform="translate(25.106250762939453, 224.13750076293945)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<hr>
<p>Only <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\rm{Q_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span> is left 👀.</p>
<p>It has 1 in and 1 out, but has a <mark>self-loop</mark>!<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>start</mtext><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi>b</mi></mpadded></mover><mi><munder><mo><mstyle mathsize="1em"><msub><mi mathvariant="normal">Q</mi><mn>1</mn></msub></mstyle></mo><mpadded lspace="-0.5width" width="0px"><mi><mover><mo><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">∣</mi><mi>a</mi><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">∣</mi><mi>a</mi><mi>b</mi><mo stretchy="false">)</mo></mo><mstyle mathsize="0.9em"><mo>↻</mo></mstyle></mover></mi></mpadded></munder></mi><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mi>a</mi></mpadded></mover><mtext>end</mtext></mrow><annotation encoding="application/x-tex">\text{start} \xrightarrow{b} \underset{\mathclap{\overset{\small\circlearrowright}{(b|aa)(b|ab)}}}{\rm{\normalsize Q_1}} \xrightarrow{a} \text{end}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.11911em; vertical-align: -0.011em;"></span><span class="mord text"><span class="mord">start</span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.10811em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.8592em; vertical-align: -1.9358em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.68333em;"><span class="" style="top: -1.63956em; margin-left: 0em;"><span class="pstrut" style="height: 3.30036em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="clap mtight"><span class="strut" style="height: 2.10766em; vertical-align: -0.25em;"></span><span class="inner mtight"><span class=""><span class="mord mtight"><span class="mord mtight"><span class="mop op-limits mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.85766em;"><span class="" style="top: -2.9em;"><span class="pstrut" style="height: 2.9em;"></span><span class=""><span class="mop mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">b</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">aa</span><span class="mclose mtight">)</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">b</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">ab</span><span class="mclose mtight">)</span></span></span></span><span class="" style="top: -3.8664em; margin-left: 0em;"><span class="pstrut" style="height: 2.9em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mrel amsrm sizing reset-size1 size5">↻</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.25em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="" style="top: -3.30036em;"><span class="pstrut" style="height: 3.30036em;"></span><span class=""><span class="mop"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.9358em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.923392em;"><span class="" style="top: -3.322em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="svg-align" style="top: -2.689em;"><span class="pstrut" style="height: 2.7em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord text"><span class="mord">end</span></span></span></span></span></span></p>
<p>We do the same as before, but sandwich the self-loop along a kleene star:<br>
<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>start</mtext><mover><mo stretchy="true" minsize="3.0em">undefined</mo><mpadded width="+0.6em" lspace="0.3em"><mstyle mathsize="0.9em"><mi>b</mi><mtext>&nbsp;</mtext><mstyle mathsize="1em"><mo stretchy="false">(</mo></mstyle><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">∣</mi><mi>a</mi><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>b</mi><mi mathvariant="normal">∣</mi><mi>a</mi><mi>b</mi><mo stretchy="false">)</mo><msup><mstyle mathsize="1em"><mo stretchy="false">)</mo></mstyle><mo>∗</mo></msup><mtext>&nbsp;</mtext><mi>a</mi></mstyle></mpadded></mover><mtext>end</mtext></mrow><annotation encoding="application/x-tex">\text{start} \xrightarrow{\small b \ {\normalsize(}(b|aa)(b|ab){\normalsize)}^* \ a} \text{end}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.633em; vertical-align: -0.011em;"></span><span class="mord text"><span class="mord">start</span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.622em;"><span class="" style="top: -3.872em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mathnormal sizing reset-size3 size5">b</span><span class="mspace sizing reset-size3 size5">&nbsp;</span><span class="mord sizing reset-size3 size5"><span class="mopen sizing reset-size5 size6">(</span></span><span class="mopen sizing reset-size3 size5">(</span><span class="mord mathnormal sizing reset-size3 size5">b</span><span class="mord sizing reset-size3 size5">∣</span><span class="mord mathnormal sizing reset-size3 size5">aa</span><span class="mclose sizing reset-size3 size5">)</span><span class="mopen sizing reset-size3 size5">(</span><span class="mord mathnormal sizing reset-size3 size5">b</span><span class="mord sizing reset-size3 size5">∣</span><span class="mord mathnormal sizing reset-size3 size5">ab</span><span class="mclose sizing reset-size3 size5">)</span><span class="mord sizing reset-size3 size5"><span class="mord"><span class="mclose sizing reset-size5 size6">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814187em;"><span class="" style="top: -3.104em; margin-right: 0.0555556em;"><span class="pstrut" style="height: 2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace sizing reset-size3 size5">&nbsp;</span><span class="mord mathnormal sizing reset-size3 size5">a</span></span></span></span><span class="svg-align" style="top: -2.989em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="height: 0.522em; min-width: 1.469em;"><svg width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMaxYMin slice"><path d="M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.011em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord text"><span class="mord">end</span></span></span></span></span></span></p>
<p>Which gives</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-iuwFhtCLDtJv2X9j" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="120.7125015258789" style="max-width: 267.4656410217285px;" viewBox="0 0 152.83750915527344 120.7125015258789"><style>#mermaid-svg-iuwFhtCLDtJv2X9j{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-iuwFhtCLDtJv2X9j .error-icon{fill:#552222;}#mermaid-svg-iuwFhtCLDtJv2X9j .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-iuwFhtCLDtJv2X9j .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-iuwFhtCLDtJv2X9j .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-iuwFhtCLDtJv2X9j .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-iuwFhtCLDtJv2X9j .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-iuwFhtCLDtJv2X9j .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-iuwFhtCLDtJv2X9j .marker{fill:#666;stroke:#666;}#mermaid-svg-iuwFhtCLDtJv2X9j .marker.cross{stroke:#666;}#mermaid-svg-iuwFhtCLDtJv2X9j svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-iuwFhtCLDtJv2X9j g.stateGroup text{fill:#999;stroke:none;font-size:10px;}#mermaid-svg-iuwFhtCLDtJv2X9j g.stateGroup text{fill:#000000;stroke:none;font-size:10px;}#mermaid-svg-iuwFhtCLDtJv2X9j g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-svg-iuwFhtCLDtJv2X9j g.stateGroup rect{fill:#eee;stroke:#999;}#mermaid-svg-iuwFhtCLDtJv2X9j g.stateGroup line{stroke:#666;stroke-width:1;}#mermaid-svg-iuwFhtCLDtJv2X9j .transition{stroke:#666;stroke-width:1;fill:none;}#mermaid-svg-iuwFhtCLDtJv2X9j .stateGroup .composit{fill:#ffffff;border-bottom:1px;}#mermaid-svg-iuwFhtCLDtJv2X9j .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-svg-iuwFhtCLDtJv2X9j .state-note{stroke:hsl(60,100%,23.3333333333%);fill:#ffa;}#mermaid-svg-iuwFhtCLDtJv2X9j .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-svg-iuwFhtCLDtJv2X9j .stateLabel .box{stroke:none;stroke-width:0;fill:#eee;opacity:0.5;}#mermaid-svg-iuwFhtCLDtJv2X9j .edgeLabel .label rect{fill:hsl(-160,0%,93.3333333333%);opacity:0.5;}#mermaid-svg-iuwFhtCLDtJv2X9j .edgeLabel .label text{fill:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-iuwFhtCLDtJv2X9j .label div .edgeLabel{color:rgb(17.0000000001,17.0000000001,17.0000000001);}#mermaid-svg-iuwFhtCLDtJv2X9j .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-svg-iuwFhtCLDtJv2X9j .node circle.state-start{fill:#666;stroke:black;}#mermaid-svg-iuwFhtCLDtJv2X9j .node circle.state-end{fill:hsl(0,0%,83.3333333333%);stroke:#ffffff;stroke-width:1.5;}#mermaid-svg-iuwFhtCLDtJv2X9j .end-state-inner{fill:#ffffff;stroke-width:1.5;}#mermaid-svg-iuwFhtCLDtJv2X9j .node rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-iuwFhtCLDtJv2X9j #statediagram-barbEnd{fill:#666;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-cluster rect{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-iuwFhtCLDtJv2X9j .cluster-label,#mermaid-svg-iuwFhtCLDtJv2X9j .nodeLabel{color:#000000;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-state .divider{stroke:#999;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-cluster.statediagram-cluster .inner{fill:#ffffff;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(210,66.6666666667%,95%);}#mermaid-svg-iuwFhtCLDtJv2X9j .note-edge{stroke-dasharray:5;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-note rect{fill:#ffa;stroke:hsl(60,100%,23.3333333333%);stroke-width:1px;rx:0;ry:0;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-note text{fill:#333;}#mermaid-svg-iuwFhtCLDtJv2X9j .statediagram-note .nodeLabel{color:#333;}#mermaid-svg-iuwFhtCLDtJv2X9j #dependencyStart,#mermaid-svg-iuwFhtCLDtJv2X9j #dependencyEnd{fill:#666;stroke:#666;stroke-width:1;}#mermaid-svg-iuwFhtCLDtJv2X9j:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-iuwFhtCLDtJv2X9j stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M76.41875457763672,22L76.41875457763672,28.39270830154419C76.41875457763672,34.78541660308838,76.41875457763672,47.57083320617676,76.41875457763672,60.35624980926514C76.41875457763672,73.14166641235352,76.41875457763672,85.9270830154419,76.41875457763672,92.31979131698608L76.41875457763672,98.71249961853027" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(76.41875457763672, 60.35624980926514)"><g class="label" transform="translate(-68.41875457763672, -13.356249809265137)"><rect rx="0" ry="0" width="136.83750915527344" height="26.712499618530273"></rect><foreignObject width="136.83750915527344" height="26.712499618530273"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">b ((b|aa)(b|ab))* a</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="state-root_start-0" transform="translate(76.41875457763672, 15)"><circle class="state-start" r="7" width="14" height="14"></circle></g><g class="node default" id="state-root_end-0" transform="translate(76.41875457763672, 105.71249961853027)"><circle class="state-start" r="7" width="14" height="14"></circle><circle class="state-end" r="5" width="10" height="10"></circle></g></g></g></g></svg></pre>
<p>…and <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>&nbsp;</mtext><mrow><mi mathvariant="normal">b</mi> <mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">(</mo><mo stretchy="false">(</mo><mi mathvariant="normal">b</mi> <mi mathvariant="normal">∣</mi> <mi mathvariant="normal">a</mi><mi mathvariant="normal">a</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">b</mi> <mi mathvariant="normal">∣</mi> <mi mathvariant="normal">a</mi><mi mathvariant="normal">b</mi><mo stretchy="false">)</mo><msup><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">)</mo><mo>∗</mo></msup> <mi mathvariant="normal">a</mi><mtext>&nbsp;</mtext></mrow></mrow><annotation encoding="application/x-tex">\ \rm b \,\big( (b\,|\,aa)(b\,|\,ab) \big)^*\, a \space</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.27861em; vertical-align: -0.35001em;"></span><span class="mspace">&nbsp;</span><span class="mord"><span class="mord mathrm">b</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="delimsizing size1">(</span></span><span class="mopen">(</span><span class="mord mathrm">b</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathrm">∣</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathrm">aa</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathrm">b</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathrm">∣</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathrm">ab</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="delimsizing size1">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.928596em;"><span class="" style="top: -3.3029em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathrm">a</span><span class="mspace">&nbsp;</span></span></span></span></span></span> is precisely the equivalent regex!</p>
</div>
</body>

</html>
